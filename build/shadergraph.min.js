!function t(n,o,i){function e(r,s){if(!o[r]){if(!n[r]){var h="function"==typeof require&&require;if(!s&&h)return h(r,!0);if(u)return u(r,!0);throw new Error("Cannot find module '"+r+"'")}var p=o[r]={exports:{}};n[r][0].call(p.exports,function(t){var o=n[r][1][t];return e(o?o:t)},p,p.exports,t,n,o,i)}return o[r].exports}for(var u="function"==typeof require&&require,r=0;r<i.length;r++)e(i[r]);return e}({1:[function(t,n){var o;o=function(){function n(t,n){this.parent=null!=n?n:null,this.nodes=[],t&&this.add(t)}return n.Node=t("./node"),n.Outlet=t("./outlet"),n.IN=0,n.OUT=1,n.INOUT=2,n.prototype.inputs=function(){var t,n,o,i,e,u,r,s,h;for(t=[],s=this.nodes,i=0,u=s.length;u>i;i++)for(n=s[i],h=n.inputs,e=0,r=h.length;r>e;e++)o=h[e],null===o.input&&t.push(o);return t},n.prototype.outputs=function(){var t,n,o,i,e,u,r,s,h;for(o=[],s=this.nodes,i=0,u=s.length;u>i;i++)for(t=s[i],h=t.outputs,e=0,r=h.length;r>e;e++)n=h[e],0===n.output.length&&o.push(n);return o},n.prototype.tail=function(){return this.nodes[this.nodes.length-1]},n.prototype.add=function(t,n){var o,i,e;{if(!t.length){if(t.graph&&!n)throw"Adding node to two graphs at once";return t.link(this),this.nodes.push(t)}for(o=0,i=t.length;i>o;o++)e=t[o],this.add(e)}},n.prototype.remove=function(t,n){var o,i,e;{if(!t.length){if(t.graph!==this)throw"Removing node from wrong graph.";return n||t.disconnect(),this.nodes.splice(this.nodes.indexOf(t),1)}for(o=0,i=t.length;i>o;o++)e=t[o],this.remove(e)}},n}(),n.exports=o},{"./node":3,"./outlet":4}],2:[function(t,n){n.exports=t("./graph")},{"./graph":1}],3:[function(t,n){var o,i;o=t("./graph"),i=function(){function t(t,n){this.owner=t,this.graph=null,this.inputs=[],this.outputs=[],this.outlets=null,this.setOutlets(n)}return t.prototype.getOwner=function(){return this.owner},t.prototype.link=function(t){this.graph=t},t.prototype.getIn=function(t){var n,o,i,e,u;for(e=this.inputs,u=[],o=0,i=e.length;i>o;o++)n=e[o],n.name===t&&u.push(n);return u},t.prototype.getOut=function(t){var n,o,i,e,u;for(e=this.outputs,u=[],o=0,i=e.length;i>o;o++)n=e[o],n.name===t&&u.push(n);return u},t.prototype.setOutlets=function(t){var n,o,i,e,u,r,s,h,p,f,l,c,a;if(null!=t){if(null==this.outlets){for(this.outlets={},u=0,p=t.length;p>u;u++)e=t[u],e=new Outlet(e),this.add(e);return this.first=!1}for(o=function(t){return[t.hint,t.inout,t.type].join("-")},i={},r=0,f=t.length;f>r;r++)e=t[r],i[o(e)]=!0;for(a=this.outlets,s=0,l=a.length;l>s;s++)e=a[s],i[o(e)]||this.remove(e);for(h=0,c=t.length;c>h;h++)e=t[h],n=this.get(e.name,e.inout),n?n.morph(e):(e=new Outlet(e),this.add(e))}return this.outlets},t.prototype.connect=function(t,n,o){var i,e,u,r,s,h,p,f,l,c,a,d;for(s={},e={},a=t.inputs,p=0,l=a.length;l>p;p++)r=a[p],(o||!r.input)&&(h=r.type,i=[h,r.hint].join("-"),e[i]||(e[i]=r),s[h]=s[h]||[],s[h].push(r));for(d=this.outputs,f=0,c=d.length;c>f;f++)if(r=d[f],!n||!r.output.length){if(h=r.type,i=[h,r.hint].join("-"),u=s[h],e[i])return e[i].connect(r),delete e[i],void u.splice(u.indexOf(r),1);u&&u.length&&u.shift().connect(r)}return this},t.prototype.disconnect=function(){var t,n,o,i,e,u,r;for(u=this.inputs,n=0,i=u.length;i>n;n++)t=u[n],t.disconnect();for(r=this.outputs,o=0,e=r.length;e>o;o++)t=r[o],t.disconnect();return this},t.prototype._key=function(t){return[t.name,t.inout].join("-")},t.prototype._add=function(t){var n;if(n=this._key(t),t.node)throw"Adding outlet to two nodes at once.";if(this.outlets[n])throw"Adding two identical outlets to same node.";return t.link(this),t.inout===o.IN&&this.inputs.push(t),t.inout===o.OUT&&this.outputs.push(t),this.outlets[n]=!0},t.prototype._remove=function(t){var n,i;if(i=this._key(t),n=t.inout,t.node!==this)throw"Removing outlet from wrong node.";return t.disconnect(),t.link(null),delete this.outlets[i],t.inout===o.IN&&this.inputs.splice(this.inputs.indexOf(t)),t.inout===o.OUT&&this.outputs.splice(this.outputs.indexOf(t)),this},t}(),n.exports=i},{"./graph":1}],4:[function(t,n){var o,i;o=t("./graph"),i=function(){function t(n,o,i,e,u){this.node=null,this.inout=n,this.name=o,this.hint=i||o,this.type=e,this.meta=u||{},this.index=++t.ID,this.key=null,this.input=null,this.output=[]}return t.ID=0,t.prototype.id=function(){return["","sg",this.name,this.index].join("_")},t.prototype.morph=function(t){return this.inout=t.inout,this.name=t.name,this.type=t.type,this.meta=t.meta||{}},t.prototype.connect=function(t){if(this.inout===o.IN&&t.inout===o.OUT)return t.connect(this);if(this.inout!==o.OUT||t.inout!==o.IN)throw"Can only connect out to in.";if(t.input!==this)return t.disconnect(),t.input=this,this.output.push(t)},t.prototype.disconnect=function(t){var n,o,i,e;if(this.input&&this.input.disconnect(this),this.output.length){if(!t){for(e=this.output,o=0,i=e.length;i>o;o++)t=e[o],t.input=null;return this.output=[]}if(n=this.output.indexOf(t),n>=0)return this.output.splice(n,1),t.input=null}},t.prototype.link=function(t){this.node=t},t}(),n.exports=i},{"./graph":1}],5:[function(t,n){var o,i;o=t("./graph"),i={Graph:o},n.exports=i,window.ShaderGraph=i},{"./graph":2}]},{},[5]);